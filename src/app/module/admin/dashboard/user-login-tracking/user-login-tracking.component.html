<mat-card class="p-4 w-full">
    <h2 class="text-2xl font-bold mb-4">User Login Tracking</h2>
    <div class="overflow-x-auto">
        <table mat-table [dataSource]="dataSource" class="min-w-full divide-y divide-gray-200">
            <!-- User ID Column -->
            <ng-container matColumnDef="userId">
                <th mat-header-cell *matHeaderCellDef class="px-4 py-2 text-left">User</th>
                <td mat-cell *matCellDef="let row" class="px-4 py-2">
                    <app-user-info [userId]="row.userId" [showingKeys]="['name', 'email']"></app-user-info>
                </td>
            </ng-container>

            <!-- LoginAt Column -->
            <ng-container matColumnDef="loginAt">
                <th mat-header-cell *matHeaderCellDef class="px-4 py-2 text-left">Login At</th>
                <td mat-cell *matCellDef="let row" class="px-4 py-2">{{ row.loginAt | date:'medium' }}</td>
            </ng-container>

            <!-- IP Column -->
            <ng-container matColumnDef="ip">
                <th mat-header-cell *matHeaderCellDef class="px-4 py-2 text-left">IP</th>
                <td mat-cell *matCellDef="let row" class="px-4 py-2">{{ row.ip }}</td>
            </ng-container>

            <!-- UserAgent Column -->
            <ng-container matColumnDef="userAgent">
                <th mat-header-cell *matHeaderCellDef class="px-4 py-2 text-left">User Agent</th>
                <td mat-cell *matCellDef="let row" class="px-4 py-2 truncate max-w-xs">{{ row.userAgent }}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns" class="bg-gray-100"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
        <mat-paginator [length]="total" [pageSize]="pageSize" [pageIndex]="pageIndex"
            [pageSizeOptions]="[5, 10, 20, 50]" (page)="onPageChange($event)" showFirstLastButtons
            class="mt-4"></mat-paginator>
    </div>
</mat-card>