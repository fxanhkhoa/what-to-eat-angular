<section class="min-h-screen py-16 md:py-24 px-4 md:px-8 relative overflow-hidden">
  <!-- Background gradient effects -->
  <div class="absolute inset-0 bg-gradient-to-br from-orange-50 via-white to-amber-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 -z-10"></div>
  <div class="absolute top-20 right-10 w-72 h-72 bg-gradient-to-br from-[#F3A446]/20 to-[#A06235]/20 rounded-full blur-3xl -z-10"></div>
  <div class="absolute bottom-20 left-10 w-96 h-96 bg-gradient-to-tr from-[#A06235]/20 to-[#F3A446]/20 rounded-full blur-3xl -z-10"></div>

  <div class="max-w-7xl mx-auto">
    <!-- Header Section -->
    <div class="text-center mb-12 md:mb-16 space-y-4">
      <div class="inline-flex items-center gap-3 px-6 py-3 rounded-full bg-gradient-to-r from-[#F3A446]/10 to-[#A06235]/10 border border-[#F3A446]/20 backdrop-blur-sm mb-4">
        <mat-icon class="text-[#F3A446] !text-3xl">restaurant</mat-icon>
        <span class="text-sm font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wide" i18n>Fresh & Organic</span>
      </div>
      
      <h2 class="text-4xl md:text-6xl font-bold bg-gradient-to-r from-[#F3A446] to-[#A06235] text-transparent bg-clip-text">
        <span i18n>Discover Ingredients</span>
      </h2>
      
      <p class="text-lg md:text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto" i18n>
        Explore our collection of fresh, high-quality ingredients to create amazing dishes
      </p>
    </div>

    <!-- Category Filter Chips -->
    <div class="mb-12">
      <div class="flex items-center justify-center gap-2 mb-6">
        <mat-icon class="text-gray-400">filter_list</mat-icon>
        <h3 class="text-lg font-semibold text-gray-700 dark:text-gray-300" i18n>Filter by Category</h3>
        @if (selectedIngredientCategories().length > 0) {
          <span class="px-3 py-1 text-xs font-medium bg-gradient-to-r from-[#F3A446] to-[#A06235] text-white rounded-full">
            {{ selectedIngredientCategories().length }}
          </span>
        }
      </div>
      
      <div class="flex flex-wrap justify-center gap-3 max-w-5xl mx-auto">
        @for(category of ingredientCategories; track category; let index = $index) {
          <button
            mat-stroked-button
            (click)="selectIngredientCategory(category)"
            [matTooltip]="category | categoryTranslate"
            class="!rounded-full !px-6 !py-3 !border-2 !transition-all !duration-300 !transform hover:!scale-105 hover:!shadow-lg"
            [ngClass]="{
              '!bg-gradient-to-r !from-[#F3A446] !to-[#A06235] !text-white !border-transparent !shadow-xl !scale-105': isSelected(category),
              '!border-gray-300 dark:!border-gray-600 !text-gray-700 dark:!text-gray-300 hover:!border-[#F3A446]': !isSelected(category)
            }"
          >
            <div class="flex items-center gap-2">
              <mat-icon [svgIcon]="ingredientCategoryIcons[index]" class="!w-6 !h-6"></mat-icon>
              <span class="font-medium">{{ category | categoryTranslate }}</span>
              @if (isSelected(category)) {
                <mat-icon class="!text-base ml-1">check_circle</mat-icon>
              }
            </div>
          </button>
        }
      </div>

      @if (selectedIngredientCategories().length > 0) {
        <div class="flex justify-center mt-6">
          <button
            mat-button
            (click)="resetFilters()"
            class="!text-gray-600 dark:!text-gray-400 hover:!text-[#F3A446]"
          >
            <mat-icon>clear_all</mat-icon>
            <span i18n>Clear All Filters</span>
          </button>
        </div>
      }
    </div>

    <!-- Loading State -->
    @if (isLoading()) {
      <div class="flex flex-col items-center justify-center py-24 space-y-6">
        <div class="relative">
          <mat-spinner diameter="60" class="!text-[#F3A446]"></mat-spinner>
          <mat-icon class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-[#F3A446] animate-pulse">restaurant</mat-icon>
        </div>
        <p class="text-lg font-medium text-gray-600 dark:text-gray-400 animate-pulse" i18n>
          Loading fresh ingredients...
        </p>
      </div>
    } 
    <!-- Empty State -->
    @else if (ingredients().length === 0) {
      <div class="max-w-md mx-auto">
        <mat-card class="!p-12 !rounded-3xl !shadow-2xl !bg-white/80 dark:!bg-gray-800/80 backdrop-blur-sm !border-2 !border-gray-100 dark:!border-gray-700">
          <div class="text-center space-y-6">
            <div class="w-24 h-24 mx-auto bg-gradient-to-br from-[#F3A446]/20 to-[#A06235]/20 rounded-full flex items-center justify-center">
              <mat-icon class="!text-6xl text-[#F3A446]">no_meals</mat-icon>
            </div>
            
            <div>
              <h3 class="text-2xl font-bold text-gray-800 dark:text-gray-200 mb-2" i18n>
                No Ingredients Found
              </h3>
              <p class="text-gray-600 dark:text-gray-400" i18n>
                Try adjusting your filters to find more ingredients
              </p>
            </div>

            <button
              mat-raised-button
              (click)="resetFilters()"
              class="!bg-gradient-to-r !from-[#F3A446] !to-[#A06235] !text-white !shadow-lg hover:!shadow-xl !transition-all !duration-300 !rounded-full !px-8 !py-3"
            >
              <mat-icon>refresh</mat-icon>
              <span i18n>Reset Filters</span>
            </button>
          </div>
        </mat-card>
      </div>
    }
    <!-- Ingredients Grid -->
    @else {
      <div 
        #galleryContainer
        (mouseenter)="pauseScrolling()" 
        (mouseleave)="resumeScrolling()"
        (touchstart)="pauseScrolling()" 
        (touchend)="resumeScrolling()"
        class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 max-h-[70vh] overflow-y-auto px-2 py-4 scroll-smooth"
      >
        @for(ingredient of ingredients(); track ingredient._id; let i = $index) {
          <mat-card 
            class="group !rounded-2xl !overflow-hidden !shadow-lg hover:!shadow-2xl !transition-all !duration-500 !transform hover:!scale-105 !cursor-pointer !bg-white dark:!bg-gray-800 !border !border-gray-100 dark:!border-gray-700"
            (mouseenter)="hoveredIndex.set(i)"
            (mouseleave)="hoveredIndex.set(null)"
          >
            <!-- Image Container -->
            <div class="relative overflow-hidden aspect-square bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800">
              <img 
                [src]="ingredient.images[0]" 
                [alt]="getIngredientTitle(ingredient)"
                (load)="onImageLoad(i)"
                class="w-full h-full object-cover transition-all duration-500 group-hover:scale-110"
                loading="lazy"
              >
              
              <!-- Gradient Overlay on hover -->
              <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
              
              <!-- Quick View Icon -->
              <div class="absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-2 group-hover:translate-y-0">
                <button 
                  mat-mini-fab 
                  class="!bg-white/90 dark:!bg-gray-800/90 backdrop-blur-sm !shadow-lg"
                  matTooltip="View Details"
                  i18n-matTooltip
                >
                  <mat-icon class="text-[#F3A446]">visibility</mat-icon>
                </button>
              </div>
            </div>

            <!-- Card Content -->
            <mat-card-content class="!p-5">
              <div class="space-y-3">
                <!-- Title -->
                <h3 class="text-lg font-bold text-gray-800 dark:text-gray-200 line-clamp-2 group-hover:text-[#F3A446] transition-colors duration-300">
                  {{ getIngredientTitle(ingredient) }}
                </h3>

                <!-- Category Badges -->
                @if (ingredient.ingredientCategory && ingredient.ingredientCategory.length > 0) {
                  <div class="flex flex-wrap gap-1.5">
                    @for (cat of ingredient.ingredientCategory.slice(0, 2); track cat) {
                      <span class="inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-[#F3A446]/20 to-[#A06235]/20 text-[#A06235] border border-[#F3A446]/30">
                        <mat-icon>local_offer</mat-icon>
                        {{ cat | categoryTranslate }}
                      </span>
                    }
                    @if (ingredient.ingredientCategory.length > 2) {
                      <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400">
                        +{{ ingredient.ingredientCategory.length - 2 }}
                      </span>
                    }
                  </div>
                }

                <!-- Animated Bottom Border -->
                <div class="h-1 bg-gradient-to-r from-[#F3A446] to-[#A06235] rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"></div>
              </div>
            </mat-card-content>
          </mat-card>
        }
      </div>

      <!-- Scroll Indicator -->
      <div class="flex justify-center mt-8 opacity-50 hover:opacity-100 transition-opacity">
        <div class="flex flex-col items-center gap-2 text-gray-500 dark:text-gray-400">
          <mat-icon class="animate-bounce">expand_more</mat-icon>
          <span class="text-sm" i18n>Scroll to see more</span>
        </div>
      </div>
    }
  </div>
</section>