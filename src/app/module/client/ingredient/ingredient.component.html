<section id="main" class="p-5 md:p-10 mt-20 flex flex-col gap-5">
    <div class="flex justify-between gap-5 items-center">
        <button matButton="elevated" (click)="goBack()">
            <mat-icon>chevron_left</mat-icon>
            <span i18n>Back</span>
        </button>
        <div class="flex-1">
            <app-search-bar class="w-full" [keyword]="keyword()" (onResult)="onSearch($event)"></app-search-bar>
        </div>
    </div>

    <div class="grid grid-cols-12 gap-5 max-h-[80vh] overflow-auto">
        @if (loading()) {
        <div class="col-span-12 flex justify-center items-center">
            <mat-progress-spinner mode="indeterminate" diameter="50"></mat-progress-spinner>
        </div>
        } @else {
        @if (rows().length === 0) {
        <div class="col-span-12">
            <app-empty></app-empty>
        </div>
        } @else {
        @for(ingredient of rows(); track ingredient) {
        <div class="col-span-12 md:col-span-4">
            <app-ingredient-card [ingredient]="ingredient"></app-ingredient-card>
        </div>
        }
        }
        }
    </div>
    <mat-paginator [length]="total()" [pageSizeOptions]="[10, 25, 50, 100]" [pageIndex]="currentPage() - 1"
        [pageSize]="limit()" (page)="paginatorChange($event)" showFirstLastButtons aria-label="Select page">
    </mat-paginator>
</section>